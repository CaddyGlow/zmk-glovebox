keyboard: "glove80"
description: "MoErgo Glove80 split ergonomic keyboard"
vendor: "MoErgo"
key_count: 80

# Compile method configurations
compile_methods:
  - method_type: generic_docker
    image: zmkfirmware/zmk-build-arm:stable
    strategy: zmk_config
    cache:
      enabled: true
      max_age_hours: 24.0
      max_cache_size_gb: 5.0
    zmk_config_repo:
      workspace_path: "~/.glovebox/dynamic-zmk-config/glove80"
    environment_template:
      ZEPHYR_TOOLCHAIN_VARIANT: "zephyr"
      ZEPHYR_SDK_INSTALL_DIR: "/opt/zephyr-sdk"
    fallback_methods: ["west"]

# flash method configurations
flash_methods:
  - method_type: usb
    device_query: "vendor=adafruit and serial~=glv80-.* and removable=true"
    mount_timeout: 30
    copy_timeout: 60
    sync_after_copy: true
    fallback_methods: ["dfu"]
  - method_type: dfu
    vid: "0x1209"
    pid: "0x0080"
    interface: 0
    alt_setting: 0
    timeout: 30
    fallback_methods: []

firmwares:
  v25.05:
    version: "v25.05"
    description: "Stable MoErgo firmware v25.05"
    build_options:
      repository: "moergo-sc/zmk"
      branch: "v25.05"

  v25.04-beta.1:
    version: "v25.04-beta.1"
    description: "Beta MoErgo firmware v25.04-beta.1"
    build_options:
      repository: "moergo-sc/zmk"
      branch: "v25.04-beta.1"

  v25.01:
    version: "v25.01"
    description: "Stable MoErgo firmware v25.01"
    build_options:
      repository: "moergo-sc/zmk"
      branch: "v25.01"

  pr36:
    version: "pr36.per-key-rgb"
    description: "PR36 with per-key RGB support"
    build_options:
      repository: "moergo-sc/zmk"
      branch: "pull/36/head"
    kconfig:
      EXPERIMENTAL_RGB_LAYER:
        name: "CONFIG_EXPERIMENTAL_RGB_LAYER"
        type: "bool"
        default: false
        description: "Enables per-layer RGB settings"

keymap:
  includes:
    - "#include <behaviors.dtsi>"
    - "#include <dt-bindings/zmk/outputs.h>"
    - "#include <dt-bindings/zmk/keys.h>"
    - "#include <dt-bindings/zmk/bt.h>"
    - "#include <dt-bindings/zmk/rgb.h>"

  # Common kconfig options for all firmwares
  #

  formatting:
    default_key_width: 8
    key_gap: "  "
    base_indent: ""
    rows:
      - [0, 1, 2, 3, 4, -1, -1, -1, -1, -1, -1, -1, -1, 5, 6, 7, 8, 9]
      - [10, 11, 12, 13, 14, 15, -1, -1, -1, -1, -1, -1, 16, 17, 18, 19, 20, 21]
      - [22, 23, 24, 25, 26, 27, -1, -1, -1, -1, -1, -1, 28, 29, 30, 31, 32, 33]
      - [34, 35, 36, 37, 38, 39, -1, -1, -1, -1, -1, -1, 40, 41, 42, 43, 44, 45]
      - [46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63]
      - [64, 65, 66, 67, 68, -1, 69, 70, 71, 72, 73, 74, -1, 75, 76, 77, 78, 79]

  kconfig_options:
    DEEP_SLEEP:
      name: "CONFIG_ZMK_SLEEP"
      type: "bool"
      default: false
      description: "Enable deep sleep, but may affect BLE reconnection. For detail ZMK documentation see CONFIG_ZMK_SLEEP."

    DEEP_SLEEP_TIMEOUT_MS:
      name: "CONFIG_ZMK_IDLE_SLEEP_TIMEOUT"
      type: "int"
      default: 900000
      description: "Milliseconds of inactivity before entering deep sleep."

    BATTERY_REPORT_INTERVAL_SEC:
      name: "CONFIG_ZMK_BATTERY_REPORT_INTERVAL"
      type: "int"
      default: 600
      description: "Battery level report interval in seconds. For detail ZMK documentation see CONFIG_ZMK_BATTERY_REPORT_INTERVAL."

    COMBO_MAX_PRESSED_COMBOS:
      name: "CONFIG_ZMK_COMBO_MAX_PRESSED_COMBOS"
      type: "int"
      default: 4
      description: "Maximum number of currently pressed combos. For detail ZMK documentation see CONFIG_ZMK_COMBO_MAX_PRESSED_COMBOS."

    COMBO_MAX_COMBOS_PER_KEY:
      name: "CONFIG_ZMK_COMBO_MAX_COMBOS_PER_KEY"
      type: "int"
      default: 5
      description: "Maximum number of active combos that use the same key position. For detail ZMK documentation see CONFIG_ZMK_COMBO_MAX_COMBOS_PER_KEY."

    COMBO_MAX_KEYS_PER_COMBO:
      name: "CONFIG_ZMK_COMBO_MAX_KEYS_PER_COMBO"
      type: "int"
      default: 4
      description: "Maximum number of keys to press to activate a combo. For detail ZMK documentation see CONFIG_ZMK_COMBO_MAX_KEYS_PER_COMBO."

    BEHAVIORS_QUEUE_SIZE:
      name: "CONFIG_ZMK_BEHAVIORS_QUEUE_SIZE"
      type: "int"
      default: 64
      description: "Maximum number of behaviors to allow queueing from a macro or other complex behavior. For detail ZMK documentation see CONFIG_ZMK_BEHAVIORS_QUEUE_SIZE."

    KSCAN_DEBOUNCE_PRESS_MS:
      name: "CONFIG_ZMK_KSCAN_DEBOUNCE_PRESS_MS"
      type: "int"
      default: 5
      description: "Keyscan press debounce in milliseconds. For detail ZMK documentation see CONFIG_ZMK_KSCAN_DEBOUNCE_PRESS_MS."

    KSCAN_DEBOUNCE_RELEASE_MS:
      name: "CONFIG_ZMK_KSCAN_DEBOUNCE_RELEASE_MS"
      type: "int"
      default: 5
      description: "Keyscan release debounce in milliseconds. For detail ZMK documentation see CONFIG_ZMK_KSCAN_DEBOUNCE_RELEASE_MS."

    SETTINGS_SAVE_DEBOUNCE_MS:
      name: "CONFIG_ZMK_SETTINGS_SAVE_DEBOUNCE"
      type: "int"
      default: 60000
      description: "Milliseconds to wait after a setting change before writing it to flash memory. For detail ZMK documentation see CONFIG_ZMK_SETTINGS_SAVE_DEBOUNCE."

    BLE_LL_SW_LLCP:
      name: "CONFIG_BT_LL_SW_LLCP"
      type: "bool"
      default: false
      description: "Maps to KConfig variable CONFIG_BT_LL_SW_LLCP. Make sure you set BLE_LL_SW_LLCP_LEGACY to opposite value. Do not override this unless instructed by MoErgo. Only available in v23.11/v23.12/v24.01."

    BLE_LL_SW_LLCP_LEGACY:
      name: "CONFIG_BT_LL_SW_LLCP_LEGACY"
      type: "bool"
      default: false
      description: "Maps to KConfig variable CONFIG_BT_LL_SW_LLCP_LEGACY. Make sure you set BLE_LL_SW_LLCP to opposite value. Do not override this unless instructed by MoErgo. Only available in v23.11/v23.12/v24.01."

    BLE_GATT_AUTO_SEC_REQ:
      name: "CONFIG_BT_GATT_AUTO_SEC_REQ"
      type: "bool"
      default: false
      description: "Maps to KConfig variable CONFIG_BT_GATT_AUTO_SEC_REQ. Do not override unless instructed by MoErgo. Default is 'y' only for split peripheral side."

    BLE_AUTO_PHY_UPDATE:
      name: "CONFIG_BT_AUTO_PHY_UPDATE"
      type: "bool"
      default: true
      description: "Maps to KConfig variable CONFIG_BT_AUTO_PHY_UPDATE. Do not override unless instructed by MoErgo."

    BLE_CTLR_PHY_2M:
      name: "CONFIG_BT_CTLR_PHY_2M"
      type: "bool"
      default: true
      description: "Maps to CONFIG_BT_CTLR_PHY_2M. Do not override this unless instructed by MoErgo."

    HID_POINTING:
      name: "CONFIG_ZMK_POINTING"
      type: "bool"
      default: false
      description: "Enables mouse emulation capability. Re-pair your keyboard with your host via Bluetooth after enabling this feature."

    BLE_PASSKEY_ENTRY:
      name: "CONFIG_ZMK_BLE_PASSKEY_ENTRY"
      type: "bool"
      default: false
      description: "Require typing passkey from host to pair BLE connection."

    BLE_DEVICE_NAME_APPEND_SN:
      name: "CONFIG_BT_DEVICE_NAME_APPEND_SN"
      type: "bool"
      default: false
      description: "When enabled, the advertised BLE device name is appended by the first 6 hexadecimal digits of the serial number."

    SPLIT_BLE_PREF_LATENCY:
      name: "CONFIG_ZMK_SPLIT_BLE_PREF_LATENCY"
      type: "int"
      default: 30
      description: "Latency to use for split central/peripheral connection."

    BLE_SMP_ALLOW_UNAUTH_OVERWRITE:
      name: "CONFIG_BT_SMP_ALLOW_UNAUTH_OVERWRITE"
      type: "bool"
      default: false
      description: "Allows overwrite of keys from previously paired hosts. This is useful for connecting with dual-boot hosts."

    BLE_SMP_MIN_ENC_KEY_SIZE:
      name: "CONFIG_BT_SMP_MIN_ENC_KEY_SIZE"
      type: "int"
      default: 7
      description: "Minimum encryption key size accepted in octets. Must be between 7 and 16."

    BLE_BAS:
      name: "CONFIG_BT_BAS"
      type: "bool"
      default: true
      description: "Enable the Bluetooth BAS (battery reporting service)."

    HID_NKRO:
      name: "CONFIG_ZMK_HID_REPORT_TYPE_NKRO"
      type: "bool"
      default: true
      description: "Enable full N-key roll over"

    HID_FULL_CONSUMER_REPORT:
      name: "CONFIG_ZMK_HID_CONSUMER_REPORT_USAGES_FULL"
      type: "bool"
      default: true
      description: "Enable all consumer key codes, but may have compatibility issues with some host OSes."

    HID_SEPARATE_MOD_RELEASE_REPORT:
      name: "CONFIG_ZMK_HID_SEPARATE_MOD_RELEASE_REPORT"
      type: "bool"
      default: false
      description: "Send modifier release event after non-modifier release event. This is available only for PR31, and not yet in production firmware."

    USB_LOGGING:
      name: "CONFIG_ZMK_USB_LOGGING"
      type: "bool"
      default: false
      description: "For debugging only; do not set this unless instructed by MoErgo. USB Logging is known to cause change in timing-sensitive behavior."

    INPUT_LOG_LEVEL_DBG:
      name: "CONFIG_INPUT_LOG_LEVEL_DBG"
      type: "bool"
      default: false
      description: "For debugging only; do not set this unless instructed by MoErgo. DEBUG log level is known to cause change in timing-sensitive behavior"

    SYSTEM_WORKQUEUE_STACK_SIZE:
      name: "CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE"
      type: "int"
      default: 2048
      description: "For debugging only; do not set this unless instructed by MoErgo."

    HW_STACK_PROTECTION:
      name: "CONFIG_HW_STACK_PROTECTION"
      type: "bool"
      default: false
      description: "For debugging only; do not set this unless instructed by MoErgo."

    EXPERIMENTAL_RGB_UNDERGLOW_AUTO_OFF_IDLE:
      name: "CONFIG_EXPERIMENTAL_RGB_UNDERGLOW_AUTO_OFF_IDLE"
      type: "bool"
      default: false
      description: "To save battery, turn off the RGB when the keyboard is not used for 30s."

  # System behaviors

  system_behaviors:
    - code: "&macro_tap"
      name: "Macro Tap"
      description: "Set Macro To Tap Mode"
      url: "https://zmk.dev/docs/behaviors/macros"
      isMacroControlBehavior: true
      expected_params: 0
      origin: "zmk"
      params: []

    - code: "&macro_press"
      name: "Macro Press"
      description: "Set Macro To Press Mode"
      url: "https://zmk.dev/docs/behaviors/macros"
      isMacroControlBehavior: true
      expected_params: 0
      origin: "zmk"
      params: []

    - code: "&macro_release"
      name: "Macro Release"
      description: "Set Macro To Release Mode"
      url: "https://zmk.dev/docs/behaviors/macros"
      isMacroControlBehavior: true
      expected_params: 0
      origin: "zmk"
      params: []

    - code: "&macro_tap_time"
      name: "Macro Tap Time"
      description: "Set Macro Tap Duration"
      url: "https://zmk.dev/docs/behaviors/macros"
      isMacroControlBehavior: true
      expected_params: 1
      origin: "zmk"
      params:
        - name: "Duration in milliseconds"
          type: "integer"
          min: 0

    - code: "&macro_wait_time"
      name: "Macro Wait Time"
      description: "Set Macro Wait Duration"
      url: "https://zmk.dev/docs/behaviors/macros"
      isMacroControlBehavior: true
      expected_params: 1
      origin: "zmk"
      params:
        - name: "Duration in milliseconds"
          type: "integer"
          min: 0

    - code: "&macro_pause_for_release"
      name: "Macro Pause For Release"
      description: "Macro Pause Until Release Marker"
      url: "https://zmk.dev/docs/behaviors/macros"
      isMacroControlBehavior: true
      expected_params: 0
      origin: "zmk"
      params: []

    - code: "&macro_param_1to1"
      name: "Macro Parameter 1 to 1"
      description: "Macro Parameter One Substituted into Next Binding's First Parameter"
      url: "https://zmk.dev/docs/behaviors/macros"
      isMacroControlBehavior: true
      expected_params: 0
      origin: "zmk"
      params: []

    - code: "&macro_param_1to2"
      name: "Macro Parameter 1 to 2"
      description: "Macro Parameter One Substituted into Next Binding's Second Parameter"
      url: "https://zmk.dev/docs/behaviors/macros"
      isMacroControlBehavior: true
      expected_params: 0
      origin: "zmk"
      params: []

    - code: "&macro_param_2to1"
      name: "Macro Parameter 2 to 1"
      description: "Macro Parameter Two Substituted into Next Binding's First Parameter"
      url: "https://zmk.dev/docs/behaviors/macros"
      isMacroControlBehavior: true
      expected_params: 0
      origin: "zmk"
      params: []

    - code: "&macro_param_2to2"
      name: "Macro Parameter 2 to 2"
      description: "Macro Parameter Two Substituted into Next Binding's Second Parameter"
      url: "https://zmk.dev/docs/behaviors/macros"
      isMacroControlBehavior: true
      expected_params: 0
      origin: "zmk"
      params: []

    - code: "&trans"
      name: "Transparent"
      description: "The Transparent behavior simply ignores key position presses/releases, so they will be passed down to the next active layer in the stack."
      url: "https://zmk.dev/docs/behaviors/misc"
      isMacroControlBehavior: false
      expected_params: 0
      origin: "zmk"
      params: []

    - code: "&none"
      name: "None"
      description: "The None behavior simply swallows and stops key position presses/releases, so they will not be passed down to the next active layer in the stack."
      url: "https://zmk.dev/docs/behaviors/misc"
      isMacroControlBehavior: false
      expected_params: 0
      origin: "zmk"
      params: []

    - code: "&kp"
      name: "Key Press"
      description: "The Key Press behavior sends standard keycodes on press/release. If you want to output modifier+keycode combinations, you can use modifier functions such as LG (for left GUI), LA (for left alt), LS (for left shift), LC (for left control), and the right equivalents."
      url: "https://zmk.dev/docs/behaviors/key-press"
      isMacroControlBehavior: false
      expected_params: 1
      origin: "zmk"
      params:
        - "code"
      includes:
        - "#include <dt-bindings/zmk/keys.h>"

    - code: "&caps_word"
      name: "Caps Word"
      description: "The Caps Word behavior behaves similar to a caps lock, but will automatically deactivate when any key not in a continue list is pressed, or if the caps word key is pressed again."
      url: "https://zmk.dev/docs/behaviors/caps-word"
      isMacroControlBehavior: false
      expected_params: 0
      origin: "zmk"
      params: []

    - code: "&key_repeat"
      name: "Key Repeat"
      description: "The Key Repeat behavior when triggered will send whatever keycode was last sent/triggered."
      url: "https://zmk.dev/docs/behaviors/key-repeat"
      expected_params: 0
      origin: "zmk"
      params: []

    - code: "&kt"
      name: "Key Toggle"
      description: "The Key Toggle behavior toggles the press of a key. If the key is not currently pressed, key toggle will press it, holding it until the key toggle is pressed again or the key is released in some other way. If the key is currently pressed, key toggle will release it."
      url: "https://zmk.dev/docs/behaviors/key-toggle"
      isMacroControlBehavior: false
      expected_params: 1
      origin: "zmk"
      params:
        - "code"

    - code: "&lt"
      name: "Layer Tap"
      description: "The Layer-Tap behavior enables a layer when a key is held, and outputs a keypress when the key is only tapped for a short time."
      url: "https://zmk.dev/docs/behaviors/layers"
      isMacroControlBehavior: false
      expected_params: 2
      origin: "zmk"
      params:
        - "layer"
        - "code"

    - code: "&mo"
      name: "Momentary Layer"
      description: "The Momentary Layer behavior enables a layer while a certain key is pressed. Immediately upon activation of the key, the layer is enabled, and immediately upon release of the key, the layer is disabled again."
      url: "https://zmk.dev/docs/behaviors/layers"
      isMacroControlBehavior: false
      expected_params: 1
      origin: "zmk"
      params:
        - "layer"

    - code: "&mt"
      name: "Mod Tap"
      description: "The Mod-Tap behavior sends a different keypress, depending on whether it's held or tapped. If you hold the key for longer than 200ms, the first keycode is sent. If you tap the key (release before 200ms), the second keycode is sent. If you press another key within the 200ms, the 'mod' behavior is also activated."
      url: "https://zmk.dev/docs/behaviors/mod-tap"
      isMacroControlBehavior: false
      expected_params: 2
      origin: "zmk"
      params:
        - "code"
        - "code"

    - code: "&sk"
      name: "Sticky Key"
      description: "A Sticky Key stays pressed until another key is pressed. It is often used for 'sticky shift'. By using a sticky shift, you don't have to hold the shift key to write a capital."
      url: "https://zmk.dev/docs/behaviors/sticky-key"
      isMacroControlBehavior: false
      expected_params: 1
      origin: "zmk"
      params:
        - "code"

    - code: "&sl"
      name: "Sticky Layer"
      description: "A Sticky Layer stays pressed until another key is pressed. By using a sticky layer, you don't have to hold the layer key to access a layer. Instead, tap the sticky layer key to activate the layer until the next keypress."
      url: "https://zmk.dev/docs/behaviors/sticky-layer"
      isMacroControlBehavior: false
      expected_params: 1
      origin: "zmk"
      params:
        - "layer"

    - code: "&to"
      name: "To Layer"
      description: "The To Layer behavior enables a layer and disables all other layers except the default layer."
      url: "https://zmk.dev/docs/behaviors/layers"
      isMacroControlBehavior: false
      expected_params: 1
      origin: "zmk"
      params:
        - "layer"

    - code: "&tog"
      name: "Toggle Layer"
      description: "The Toggle Layer behavior enables a layer until the layer is manually disabled."
      url: "https://zmk.dev/docs/behaviors/layers"
      isMacroControlBehavior: false
      expected_params: 1
      origin: "zmk"
      params:
        - "layer"

    - code: "&bt"
      name: "Bluetooth"
      description: "The Bluetooth behavior allows management of various settings and states related to the bluetooth connection(s) between the keyboard and the host."
      url: "https://zmk.dev/docs/behaviors/bluetooth"
      isMacroControlBehavior: false
      expected_params: 1
      origin: "zmk"
      params:
        - "command"
      includes:
        - "#include <dt-bindings/zmk/bt.h>"
      commands:
        - code: "BT_CLR"
          description: "Clear bond information between the keyboard and host for the selected profile."
        - code: "BT_CLR_ALL"
          description: "Clear bond information between the keyboard and host for *all* profiles."
        - code: "BT_NXT"
          description: "Switch to the next profile, cycling through to the first one when the end is reached."
        - code: "BT_PRV"
          description: "Switch to the previous profile, cycling through to the last one when the beginning is reached."
        - code: "BT_DISC"
          description: "[Beta-PR25 and newer] Disconnect from the 0-indexed profile by number, if it's currently connected and inactive. Please note: this definition must include a number as an argument in the keymap to work correctly. eg. `BT_DISC 0`"
          flatten: true
          additionalParams:
            - name: "Bluetooth Profile"
              type: "enum"
              values:
                - 0
                - 1
                - 2
                - 3
                - 4
        - code: "BT_SEL"
          description: "Do not use this unless you are defining a macro; use &bt_0 to &bt_3 instead. Select the 0-indexed profile by number. Please note: this definition must include a number as an argument in the keymap to work correctly. eg. BT_SEL 0"
          flatten: true
          additionalParams:
            - name: "Bluetooth Profile"
              type: "enum"
              values:
                - 0
                - 1
                - 2
                - 3
                - 4

    - code: "&out"
      name: "Output Selection"
      description: "Allows selecting whether keyboard output is sent to the USB or bluetooth connection when both are connected."
      url: "https://zmk.dev/docs/behaviors/outputs"
      isMacroControlBehavior: false
      expected_params: 1
      origin: "zmk"
      params:
        - "command"
      includes:
        - "#include <dt-bindings/zmk/outputs.h>"
      commands:
        - code: "OUT_BLE"
          description: "Prefer sending to the current bluetooth profile"
        - code: "OUT_USB"
          description: "Prefer sending to USB"
        - code: "OUT_TOG"
          description: "Toggle between USB and BLE"

    - code: "&rgb_ug"
      name: "RGB Underglow"
      description: "RGB underglow control"
      url: "https://zmk.dev/docs/behaviors/underglow"
      isMacroControlBehavior: false
      expected_params: 1
      origin: "zmk"
      params:
        - "command"
      includes:
        - "#include <dt-bindings/zmk/rgb.h>"
      commands:
        - code: "RGB_TOG"
          description: "Toggles the RGB feature on and off"
        - code: "RGB_HUI"
          description: "Increases the hue of the RGB feature"
        - code: "RGB_HUD"
          description: "Decreases the hue of the RGB feature"
        - code: "RGB_SAI"
          description: "Increases the saturation of the RGB feature"
        - code: "RGB_SAD"
          description: "Decreases the saturation of the RGB feature"
        - code: "RGB_BRI"
          description: "Increases the brightness of the RGB feature"
        - code: "RGB_BRD"
          description: "Decreases the brightness of the RGB feature"
        - code: "RGB_SPI"
          description: "Increases the speed of the RGB feature effect's animation"
        - code: "RGB_SPD"
          description: "Decreases the speed of the RGB feature effect's animation"
        - code: "RGB_EFF"
          description: "Cycles the RGB feature's effect forwards"
        - code: "RGB_EFR"
          description: "Cycles the RGB feature's effect reverse"

    - code: "&reset"
      name: "Reset Half"
      description: "Reset this half of the keyboard."
      url: "https://zmk.dev/docs/behaviors/reset"
      isMacroControlBehavior: false
      expected_params: 0
      origin: "zmk"
      params: []

    - code: "&bootloader"
      name: "Half Bootloader"
      description: "Activate bootloader on this half of the keyboard, allowing you to flash a new firmware."
      url: "https://zmk.dev/docs/behaviors/reset"
      isMacroControlBehavior: false
      expected_params: 0
      origin: "zmk"
      params: []

    - code: "&mkp"
      name: "Mouse Button Press"
      description: "Press/release mouse buttons. Requires Advanced Configuration parameter `HID_POINTING` set to `y`."
      url: "https://zmk.dev/docs/keymaps/behaviors/mouse-emulation#mouse-button-press"
      isMacroControlBehavior: false
      expected_params: 1
      origin: "zmk"
      params:
        - "command"
      includes:
        - "#include <dt-bindings/zmk/pointing.h>"
      commands:
        - code: "MB1"
          name: "Mouse button 1"
          description: "Mouse button 1 (left click)"
        - code: "LCLK"
          name: "Left click"
          description: "Mouse button 1 (left click)"
        - code: "MB2"
          name: "Mouse button 2"
          description: "Mouse button 2 (right click)"
        - code: "RCLK"
          name: "Right click"
          description: "Mouse button 2 (right click)"
        - code: "MB3"
          name: "Mouse button 3"
          description: "Mouse button 3 (middle click)"
        - code: "MCLK"
          name: "Middle click"
          description: "Mouse button 3 (middle click)"
        - code: "MB4"
          name: "Mouse button 4"
          description: "Mouse button 4 (prev click)"
        - code: "MB5"
          name: "Mouse button 5"
          description: "Mouse button 5 (next click)"

    - code: "&mmv"
      name: "Mouse Move"
      description: "Send mouse X/Y movement events. Requires Advanced Configuration parameter `HID_POINTING` set to `y`."
      url: "https://zmk.dev/docs/keymaps/behaviors/mouse-emulation#mouse-move"
      isMacroControlBehavior: false
      expected_params: 1
      origin: "zmk"
      params:
        - "command"
      includes:
        - "#include <dt-bindings/zmk/pointing.h>"
      commands:
        - code: "MOVE_X"
          name: "Mouse horizontal movement"
          additionalParams:
            - name: "Horizontal movement"
              type: "integer"
              min: -600
              max: 600
        - code: "MOVE_Y"
          name: "Mouse vertical movement"
          additionalParams:
            - name: "Vertical movement"
              type: "integer"
              min: -600
              max: 600
        - code: "MOVE_UP"
          description: "Move up"
        - code: "MOVE_DOWN"
          description: "Move down"
        - code: "MOVE_LEFT"
          description: "Move left"
        - code: "MOVE_RIGHT"
          description: "Move right"

    - code: "&msc"
      name: "Mouse Scroll"
      description: "Send vertical and horizontal mouse scroll events. Requires Advanced Configuration parameter `HID_POINTING` set to `y`."
      url: "https://zmk.dev/docs/keymaps/behaviors/mouse-emulation#mouse-scroll"
      isMacroControlBehavior: false
      expected_params: 1
      origin: "zmk"
      params:
        - "command"
      includes:
        - "#include <dt-bindings/zmk/pointing.h>"
      commands:
        - code: "MOVE_X"
          name: "Mouse horizontal scroll"
          additionalParams:
            - name: "Horizontal scroll"
              type: "integer"
              min: -30
              max: 30
        - code: "MOVE_Y"
          name: "Mouse vertical scroll"
          additionalParams:
            - name: "Vertical scroll"
              type: "integer"
              min: -30
              max: 30
        - code: "SCRL_UP"
          description: "Scroll up"
        - code: "SCRL_DOWN"
          description: "Scroll down"
        - code: "SCRL_LEFT"
          description: "Scroll left"
        - code: "SCRL_RIGHT"
          description: "Scroll right"

    - code: "Custom"
      name: "Custom Behavior"
      description: "Specify the key behavior by text input, to be used in conjunction with Custom Defined Behaviors."
      url: "https://www.moergo.com/files/layout-editor-user-guide.pdf"
      isMacroControlBehavior: false
      expected_params: 1
      origin: "moergo"
      params:
        - "text_command"

    - code: "&magic"
      name: "Magic Key"
      description: "Tap to show the indicators. Hold to momentarily change to the Magic Layer."
      url: "https://www.moergo.com/files/layout-editor-user-guide.pdf"
      isMacroControlBehavior: false
      expected_params: 0
      origin: "moergo"
      params: []

    - code: "&lower"
      name: "Lower Layer Key"
      description: "Hold to momentarily change to the Lower Layer. Double-tap to persistently change to the Lower Layer."
      url: "https://www.moergo.com/files/layout-editor-user-guide.pdf"
      isMacroControlBehavior: false
      expected_params: 0
      origin: "moergo"
      params: []

    - code: "&bt_0"
      name: "Bluetooth Profile 0"
      description: "Single quick tap to select the BT profile 0. Double tap to disconnect BT profile 0."
      url: "https://www.moergo.com/files/layout-editor-user-guide.pdf"
      isMacroControlBehavior: false
      expected_params: 0
      origin: "moergo"
      params: []

    - code: "&bt_1"
      name: "Bluetooth Profile 1"
      description: "Single quick tap to select the BT profile 1. Double tap to disconnect BT profile 1."
      url: "https://www.moergo.com/files/layout-editor-user-guide.pdf"
      isMacroControlBehavior: false
      expected_params: 0
      origin: "moergo"
      params: []

    - code: "&bt_2"
      name: "Bluetooth Profile 2"
      description: "Single quick tap to select the BT profile 2. Double tap to disconnect BT profile 2."
      url: "https://www.moergo.com/files/layout-editor-user-guide.pdf"
      isMacroControlBehavior: false
      expected_params: 0
      origin: "moergo"
      params: []

    - code: "&bt_3"
      name: "Bluetooth Profile 3"
      description: "Single quick tap to select the BT profile 3. Double tap to disconnect BT profile 3."
      url: "https://www.moergo.com/files/layout-editor-user-guide.pdf"
      isMacroControlBehavior: false
      expected_params: 0
      origin: "moergo"
      params: []

  keymap_dtsi: |
    /*
    * Copyright (c) 2020 The ZMK Contributors
    * Copyright (c) 2025 Innaworks Development Limited, trading as MoErgo
    *
    * SPDX-License-Identifier: MIT
    */
    /* THIS FILE WAS GENERATED BY GLOVEBOX
    *
    * This file was generated automatically. You may or may not want to
    * edit it directly.
    */
    /* Include all behavior includes needed */
    {{ resolved_includes }}
    /* Automatically generated layer name #define */
    {{ layer_defines }}
    /* To deal with the situation where there is no Lower layer, to keep &lower happy */
    #ifndef LAYER_Lower
    #define LAYER_Lower 0
    #endif
    /* Custom Device-tree */
    {% if custom_devicetree %}
    {{ custom_devicetree }}
    {% endif %}
    /* Input Listeners */
    {# Render generated DTS from inputListeners JSON data #}
    {% if input_listeners_dtsi %}
    {{ input_listeners_dtsi }}
    {% endif %}
    /* System behavior and Macros */
    {# Render content read from system_behaviors.dts #}
    {{ system_behaviors_dts }}
    /* #define for key positions */
    {# Render content read from key_position.h #}
    {{ key_position_header }}
    /* Custom Defined Behaviors */
    / {
    {% if custom_defined_behaviors %}
    {{ custom_defined_behaviors }}
    {% else %}
    {% endif %}
    };
    /* Automatically generated macro definitions */
    / {
        macros {
    {% if user_macros_dtsi %}
    {{ user_macros_dtsi }}
    {% endif %}
        };
    };
    /* Automatically generated behavior definitions */
    / {
        behaviors {
    {% if user_behaviors_dtsi %}
    {{ user_behaviors_dtsi }}
    {% endif %}
        };
    };
    /* Automatically generated combos definitions */
    {% if combos_dtsi -%}
    / {
    {{ combos_dtsi }}
    };
    {% endif %}
    /* Automatically generated keymap */
    / {
    {{ keymap_node }}
    };

  system_behaviors_dts: |
    / {
        behaviors {
            // For the "layer" key, it'd nice to be able to use it as either a shift or a toggle.
            // Configure it as a tap dance, so the first tap (or hold) is a &mo and the second tap is a &to
            lower: lower {
                compatible = "zmk,behavior-tap-dance";
                label = "LAYER_TAP_DANCE";
                #binding-cells = <0>;
                tapping-term-ms = <200>;
                bindings = <&mo LAYER_Lower>, <&to LAYER_Lower>;
            };
        };
    };

    / {
        macros {
            rgb_ug_status_macro: rgb_ug_status_macro {
                label = "RGB_UG_STATUS";
                compatible = "zmk,behavior-macro";
                #binding-cells = <0>;
                bindings
                    = <&rgb_ug RGB_STATUS>;
            };
        };
    };


    / {
    #ifdef BT_DISC_CMD
        behaviors {
            bt_0: bt_0 {
                compatible = "zmk,behavior-tap-dance";
                label = "BT_0";
                #binding-cells = <0>;
                tapping-term-ms = <200>;
                bindings = <&bt_select_0>, <&bt BT_DISC 0>;
            };
            bt_1: bt_1 {
                compatible = "zmk,behavior-tap-dance";
                label = "BT_1";
                #binding-cells = <0>;
                tapping-term-ms = <200>;
                bindings = <&bt_select_1>, <&bt BT_DISC 1>;
            };
            bt_2: bt_2 {
                compatible = "zmk,behavior-tap-dance";
                label = "BT_2";
                #binding-cells = <0>;
                tapping-term-ms = <200>;
                bindings = <&bt_select_2>, <&bt BT_DISC 2>;
            };
            bt_3: bt_3 {
                compatible = "zmk,behavior-tap-dance";
                label = "BT_3";
                #binding-cells = <0>;
                tapping-term-ms = <200>;
                bindings = <&bt_select_3>, <&bt BT_DISC 3>;
            };
        };
        macros {
            bt_select_0: bt_select_0 {
                label = "BT_SELECT_0";
                compatible = "zmk,behavior-macro";
                #binding-cells = <0>;
                bindings
                    = <&out OUT_BLE>,
                      <&bt BT_SEL 0>;
            };
            bt_select_1: bt_select_1 {
                label = "BT_SELECT_1";
                compatible = "zmk,behavior-macro";
                #binding-cells = <0>;
                bindings
                    = <&out OUT_BLE>,
                      <&bt BT_SEL 1>;
            };
            bt_select_2: bt_select_2 {
                label = "BT_SELECT_2";
                compatible = "zmk,behavior-macro";
                #binding-cells = <0>;
                bindings
                    = <&out OUT_BLE>,
                      <&bt BT_SEL 2>;
            };
            bt_select_3: bt_select_3 {
                label = "BT_SELECT_3";
                compatible = "zmk,behavior-macro";
                #binding-cells = <0>;
                bindings
                    = <&out OUT_BLE>,
                      <&bt BT_SEL 3>;
            };
        };
    #else
        macros {
            bt_0: bt_0 {
                label = "BT_0";
                compatible = "zmk,behavior-macro";
                #binding-cells = <0>;
                bindings
                    = <&out OUT_BLE>,
                      <&bt BT_SEL 0>;
            };
            bt_1: bt_1 {
                label = "BT_1";
                compatible = "zmk,behavior-macro";
                #binding-cells = <0>;
                bindings
                    = <&out OUT_BLE>,
                      <&bt BT_SEL 1>;
            };
            bt_2: bt_2 {
                label = "BT_2";
                compatible = "zmk,behavior-macro";
                #binding-cells = <0>;
                bindings
                    = <&out OUT_BLE>,
                      <&bt BT_SEL 2>;
            };
            bt_3: bt_3 {
                label = "BT_3";
                compatible = "zmk,behavior-macro";
                #binding-cells = <0>;
                bindings
                    = <&out OUT_BLE>,
                      <&bt BT_SEL 3>;
            };
        };
    #endif
    };

    / {
        behaviors {
            magic: magic {
                compatible = "zmk,behavior-hold-tap";
                label = "MAGIC_HOLD_TAP";
                #binding-cells = <2>;
                flavor = "tap-preferred";
                tapping-term-ms = <200>;
                bindings = <&mo>, <&rgb_ug_status_macro>;
            };
        };
    };

  key_position_header: |
    #define POS_LH_T1 52
    #define POS_LH_T2 53
    #define POS_LH_T3 54
    #define POS_LH_T4 69
    #define POS_LH_T5 70
    #define POS_LH_T6 71
    #define POS_LH_C1R2 15
    #define POS_LH_C1R3 27
    #define POS_LH_C1R4 39
    #define POS_LH_C1R5 51
    #define POS_LH_C2R1 4
    #define POS_LH_C2R2 14
    #define POS_LH_C2R3 26
    #define POS_LH_C2R4 38
    #define POS_LH_C2R5 50
    #define POS_LH_C2R6 68
    #define POS_LH_C3R1 3
    #define POS_LH_C3R2 13
    #define POS_LH_C3R3 25
    #define POS_LH_C3R4 37
    #define POS_LH_C3R5 49
    #define POS_LH_C3R6 67
    #define POS_LH_C4R1 2
    #define POS_LH_C4R2 12
    #define POS_LH_C4R3 24
    #define POS_LH_C4R4 36
    #define POS_LH_C4R5 48
    #define POS_LH_C4R6 66
    #define POS_LH_C5R1 1
    #define POS_LH_C5R2 11
    #define POS_LH_C5R3 23
    #define POS_LH_C5R4 35
    #define POS_LH_C5R5 47
    #define POS_LH_C5R6 65
    #define POS_LH_C6R1 0
    #define POS_LH_C6R2 10
    #define POS_LH_C6R3 22
    #define POS_LH_C6R4 34
    #define POS_LH_C6R5 46
    #define POS_LH_C6R6 64
    #define POS_RH_T1 57
    #define POS_RH_T2 56
    #define POS_RH_T3 55
    #define POS_RH_T4 74
    #define POS_RH_T5 73
    #define POS_RH_T6 72
    #define POS_RH_C1R2 16
    #define POS_RH_C1R3 28
    #define POS_RH_C1R4 40
    #define POS_RH_C1R5 58
    #define POS_RH_C2R1 5
    #define POS_RH_C2R2 17
    #define POS_RH_C2R3 29
    #define POS_RH_C2R4 41
    #define POS_RH_C2R5 59
    #define POS_RH_C2R6 75
    #define POS_RH_C3R1 6
    #define POS_RH_C3R2 18
    #define POS_RH_C3R3 30
    #define POS_RH_C3R4 42
    #define POS_RH_C3R5 60
    #define POS_RH_C3R6 76
    #define POS_RH_C4R1 7
    #define POS_RH_C4R2 19
    #define POS_RH_C4R3 31
    #define POS_RH_C4R4 43
    #define POS_RH_C4R5 61
    #define POS_RH_C4R6 77
    #define POS_RH_C5R1 8
    #define POS_RH_C5R2 20
    #define POS_RH_C5R3 32
    #define POS_RH_C5R4 44
    #define POS_RH_C5R5 62
    #define POS_RH_C5R6 78
    #define POS_RH_C6R1 9
    #define POS_RH_C6R2 21
    #define POS_RH_C6R3 33
    #define POS_RH_C6R4 45
    #define POS_RH_C6R5 63
    #define POS_RH_C6R6 79
